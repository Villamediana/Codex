<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Proyectos</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
  <div class="app-container">
    <!-- Sidebar de filtros -->
    <aside class="sidebar">
  <h5>Filtros</h5>
  <hr />
  <div class="search-container">
    <input
      type="text"
      id="search-input"
      placeholder="Buscar proyecto..."
    />
  </div>
  <div class="filters">
    <h6>Disciplina</h6>
    {% for disc in disciplines %}
    <div class="form-check">
      <input
        type="checkbox"
        id="filter-{{ disc|lower|replace(' ', '-') }}"
        value="{{ disc }}"
        checked
      />
      <label for="filter-{{ disc|lower|replace(' ', '-') }}">
        {{ disc }}
      </label>
    </div>
    {% endfor %}
  </div>
</aside>


    <!-- Main con cards -->
    <section class="main-content">
      <div class="header">
        <h2>Lista de Proyectos</h2>
        <a href="{{ url_for('create') }}" class="btn-create">Crear Proyecto</a>
      </div>

      <div id="cards-container" class="card-grid">
        {% for p in projects %}
          <div
            class="card"
            data-discipline="{{ p.discipline }}"
            data-name="{{ p.name | lower }}"
          >
            <!-- BotÃ³n de eliminar (form POST) -->
            <form
              method="POST"
              action="{{ url_for('delete_project', project_id=p.id) }}"
              onsubmit="return confirm('Â¿Eliminar proyecto {{ p.name }}?');"
              class="delete-form"
            >

            <button
      class="share-btn"
      title="Compartir"
      onclick="copyLink('{{ url_for('project_detail', project_id=p.id, _external=True) }}')"
    >
      ðŸ“‹
    </button>
              <button type="submit" class="delete-btn">Ã—</button>
            </form>

            <!-- BotÃ³n de editar con SVG de lÃ¡piz -->
            <a href="{{ url_for('edit_project', project_id=p.id) }}" class="edit-btn" title="Editar">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path
                  d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"
                  fill="#2c3e50"
                />
              </svg>
            </a>

            <img
              src="{{ url_for('static', filename=p.image) }}"
              alt="Imagen de {{ p.name }}"
            />
            <div class="card-body">
              <h5 class="card-title">{{ p.name }}</h5>
              <p class="card-disc">
                <span class="discipline-label">{{ p.discipline }}</span>
              </p>
              <a
                href="{{ url_for('project_detail', project_id=p.id) }}"
                class="stretched-link"
              ></a>
            </div>
          </div>
        {% endfor %}
      </div>
    </section>
  </div>

  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
